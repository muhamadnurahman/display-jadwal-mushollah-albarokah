<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Display Mushollah Al-Barokah</title>
  <style>
    body {
      font-family: 'Segoe UI', sans-serif;
      background-color: #000; /* latar belakang hitam */
      margin: 0;
      padding: 20px;
      color: #fff; /* teks default putih */
      text-align: center;
    }

    h2 {
      color: lightseagreen; /* hijau lembut */
      font-size: 2rem;
      margin-bottom: 10px;
    }

    h4 {
      color: white; /* abu-abu terang */
      margin-top: 0;
    }

    #tanggal {
      font-size: 1.4rem;
      margin-bottom: 20px;
      color: #fbc02d; /* kuning terang */
    }

    #jadwal-sholat {
      margin-top: 20px;
      background-color: #1c1c1c; /* abu gelap */
      border-radius: 8px;
      box-shadow: 0 2px 6px rgba(255, 255, 255, 0.1);
      padding: 10px;
      max-width: 400px;
      margin-left: auto;
      margin-right: auto;
    }

    .sholat {
      padding: 10px;
      border-bottom: 1px solid #333;
      font-size: 1.2rem;
      color: lightseagreen; /* biru muda */
    }

    .sholat:last-child {
      border-bottom: none;
    }

    #next-prayer {
      font-weight: bold;
      margin-top: 25px;
      font-size: 1.3rem;
      color: white; /* merah terang */
      background-color: #212121; /* latar abu-abu gelap */
      display: inline-block;
      padding: 10px 15px;
      border-radius: 6px;
      box-shadow: 0 2px 4px rgba(255, 255, 255, 0.1);
    }
  </style>
</head>
<body>
  <h2>Mushollah Al-Barokah</h2>
  <h4>Klayan, Kec. Gunungjati, Kabupaten Cirebon, Jawa Barat</h4>
  <div id="tanggal"></div>
  <div id="jadwal-sholat"></div>
  <div id="next-prayer"></div>

  <script>
    const hijriMonths = [
      "Muharram", "Safar", "Rabiul Awal", "Rabiul Akhir", "Jumadil Awal", "Jumadil Akhir",
      "Rajab", "Sya'ban", "Ramadhan", "Syawal", "Zulkaidah", "Zulhijah"
    ];

    const prayerTimes = {
      Subuh: "04:35",
      Dzuhur: "11:58",
      Ashar: "15:15",
      Maghrib: "17:49",
      Isya: "19:00"
    };

    function getHijriDate() {
      const today = new Date();
      const hijri = new Intl.DateTimeFormat('en-TN-u-ca-islamic', {
        day: 'numeric', month: 'numeric', year: 'numeric'
      }).formatToParts(today);

      const hDay = hijri.find(part => part.type === 'day').value;
      const hMonth = hijri.find(part => part.type === 'month').value;
      const hYear = hijri.find(part => part.type === 'year').value;

      return `${hDay} ${hijriMonths[parseInt(hMonth) - 1]} ${hYear} H`;
    }

    function getMasehiDate() {
      const now = new Date();
      const options = { day: 'numeric', month: 'long', year: 'numeric' };
      return now.toLocaleDateString('id-ID', options);
    }

    function tampilkanTanggal() {
      const masehi = getMasehiDate();
      const hijri = getHijriDate();
      document.getElementById("tanggal").textContent = `${masehi} M / ${hijri}`;
    }

    function tampilkanJadwalSholat() {
      const jadwal = document.getElementById("jadwal-sholat");
      jadwal.innerHTML = "";
      for (const [sholat, waktu] of Object.entries(prayerTimes)) {
        const div = document.createElement("div");
        div.className = "sholat";
        div.textContent = `${sholat}: ${waktu}`;
        jadwal.appendChild(div);
      }
    }

    function getNextPrayerTime() {
      const now = new Date();
      const times = Object.entries(prayerTimes).map(([name, time]) => {
        const [hours, minutes] = time.split(":").map(Number);
        const prayerDate = new Date(now);
        prayerDate.setHours(hours, minutes, 0, 0);
        return { name, date: prayerDate };
      });

      for (const { name, date } of times) {
        if (date > now) {
          return { name, date };
        }
      }

      const nextDay = new Date(now);
      nextDay.setDate(now.getDate() + 1);
      nextDay.setHours(4, 35, 0, 0);
      return { name: "Subuh", date: nextDay };
    }

    function updateCountdown() {
      const { name, date } = getNextPrayerTime();
      const now = new Date();
      const diff = Math.max(0, date - now);

      const hours = Math.floor(diff / 1000 / 60 / 60);
      const minutes = Math.floor((diff / 1000 / 60) % 60);
      const seconds = Math.floor((diff / 1000) % 60);

      document.getElementById("next-prayer").textContent =
        `Menuju ${name} berikutnya: ${hours}j ${minutes}m ${seconds}d`;
    }

    tampilkanTanggal();
    tampilkanJadwalSholat();
    updateCountdown();
    setInterval(updateCountdown, 1000);
  </script>
</body>
</html>
